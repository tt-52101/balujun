<div nz-row>
    <div nz-col nzSpan="15">
        <div class="ticketleft">
            <nz-table #editRowTable [nzData]="listOfData" [nzShowPagination]='false'>
                <thead>
                    <tr>
                        <th class="text-center" nzWidth="50px"></th>
                        <th class="text-center" nzWidth="350px">票种名称</th>
                        <th class="text-center" nzWidth="350px">单价</th>
                        <th class="text-center">操作</th>
                      </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of editRowTable.data" class="editable-row">
                        <td class="text-center"><i nz-icon nzType="minus-circle" nzTheme="outline" [nzTheme]="'twotone'"
                            [nzTwotoneColor]="'#9E7BFF'" style="cursor: pointer;" (click)='deleteRow(data.id)'></i>
                        </td>
                        
                        <td class="text-center">
                          <div class="editable-cell" *ngIf="editId !== data.id; else editTpl5">
                            <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                              {{data.name}}
                            </div>
                          </div>
          
                          <ng-template #editTpl5>
                            <nz-select [(ngModel)]="data.name" nzAllowClear (ngModelChange)=aa(data.id)>
                              <nz-option *ngFor="let item of selectedValue;let i = index " [nzValue]="item" [nzLabel]="item"></nz-option>
                            </nz-select>
                          </ng-template>
                        </td>
          
                        <td class="text-center">
                          <div class="editable-cell" *ngIf="editId !== data.id; else editTpl6">
                            <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                              ￥{{ data.cc }}
                            </div>
                          </div>
                          <ng-template #editTpl6>
                            <input type="text" nzwidth='130px' nz-input [(ngModel)]="data.cc" />
                          </ng-template>
                        </td>
          
                        <td class="text-center">
                          <div class="btn" *ngIf="data.id!=2" (click)='createOrEdit()'>点击登记资料</div>
                          <div class="btns" *ngIf="data.id==2">已登记资料</div>
                        </td>
                      </tr>
                </tbody>
            </nz-table>

            <div class="adds" (click)="addRow()"><i nz-icon nzType="plus-circle" nzTheme="outline"></i>添加票型</div>
        </div>
    </div>

    <div nz-col nzSpan="9" class="ticketright">
        <div class="ticketright-top">
            <div class="carttitle">购物车</div>
            <div class="cartlist">
                <span><i>1</i>成人票</span>
                <span>
                    <nz-input-number [(ngModel)]="demoValue" [nzSize]="'small'" [nzMin]="1" [nzMax]="200" [nzStep]="1">
                    </nz-input-number>
                </span>
                <span>￥150</span>
                <span><i nz-icon nzType="delete" nzTheme="outline"></i></span>
            </div>
            <div class="cartlist">
                <span><i>2</i>成人票</span>
                <span>
                    <nz-input-number [(ngModel)]="demoValue" [nzSize]="'small'" [nzMin]="1" [nzMax]="200" [nzStep]="1">
                    </nz-input-number>
                </span>
                <span>￥150</span>
                <span><i nz-icon nzType="delete" nzTheme="outline"></i></span>
            </div>
            <div class="ticketright-sum">
                <span>数量:110</span>
                <span>合计:￥120</span>
            </div>
        </div>
        <div class="ticketright-botton">
            <form nz-form>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="time"><span>有效日期</span></nz-form-label>
                    <nz-form-control [nzSpan]="14">
                        <nz-range-picker></nz-range-picker>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>支付方式</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <nz-select name="select-error" [ngModel]="'Option 1'">
                            <nz-option nzValue="Option 1" nzLabel="现金"></nz-option>
                            <nz-option nzValue="Option 2" nzLabel="微信"></nz-option>
                            <nz-option nzValue="Option 3" nzLabel="支付宝"></nz-option>
                            <nz-option nzValue="Option 4" nzLabel="刷卡"></nz-option>
                          </nz-select>                
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>折扣</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <nz-select name="select-error" [ngModel]="'Option 1'">
                            <nz-option nzValue="Option 1" nzLabel="1.0"></nz-option>
                            <nz-option nzValue="Option 2" nzLabel="0.9"></nz-option>
                            <nz-option nzValue="Option 3" nzLabel="0.8"></nz-option>
                            <nz-option nzValue="Option 4" nzLabel="0.7"></nz-option>
                          </nz-select>                
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>备注</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <input nz-input name="email" type="email" id="email">
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>应收</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <span class="botton-num">￥998</span>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>应收</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <nz-input-group nzSuffix="RMB" nzPrefix="￥">
                            <input type="text" nz-input />
                          </nz-input-group>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item class="botton-item">
                    <nz-form-label class="botton-form" [nzSpan]="6" nzFor="email"><span>找零</span></nz-form-label>
                    <nz-form-control [nzSpan]="13">
                        <span class="botton-num">￥117</span>
                    </nz-form-control>
                </nz-form-item>    
                <nz-form-item class="botton-item" style="margin-top: 20px">
                    <nz-form-control>
                      <button nz-button class="submitbtn" (click)="settlement()">结算</button>
                    </nz-form-control>
                  </nz-form-item>
            </form>
        </div>
    </div>
</div>
<div nz-row>